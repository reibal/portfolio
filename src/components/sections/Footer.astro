---
import GithubIcon from "../../components/icons/GithubIcon.astro";
import LinkedinIcon from "../../components/icons/LinkedinIcon.astro";
import EmailIcon from "../../components/icons/EmailIcon.astro";

// i18n import
import { getI18n } from "../../i18n";
// i18n setup
const { currentLocale } = Astro;
const i18n = getI18n({ currentLocale });
---

<footer
  class="bg-gray-300/80 dark:bg-gray-800 text-black dark:text-gray-200 pt-4 md:pt-6 pb-3 md:pb-2"
>
  <div class="container mx-auto px-4">
    <p class="text-center mb-4 text-lg">{i18n.FOOTER_FIND_ME_ON_SOCIAL_MEDIA}</p>
    <div class="flex justify-center gap-4 mb-4 text-4xl md:text-5xl">
      <a
        href="https://github.com/KazzK94"
        target="_blank"
        class="hover:text-orange-500 hover:scale-110 transition-all"
        aria-label="Visit my GitHub profile"
      >
        <GithubIcon />
      </a>
      <a
        id="linkedinIcon"
        class="hover:text-orange-500 hover:scale-110 transition-all cursor-pointer"
        aria-label="Visit my LinkedIn"
      >
        <LinkedinIcon />
      </a>
      <a
        id="emailIcon"
        class="hover:text-orange-500 hover:scale-110 transition-all cursor-pointer"
        aria-label="Send me an e-mail"
      >
        <EmailIcon />
      </a>
    </div>
  </div>

  {/* TODO: Remove once LinkedIn and Email have been added */}
  <dialog
    id="niyModal"
    class="border-2 p-4 rounded-lg text-center dark:border-slate-950 dark:bg-slate-800 dark:text-white/80"
  >
    <h1 class="text-xl font-bold mb-1">
      {currentLocale === "en" ? "I'm very sorry!" : "¡Mil disculpas!"}
    </h1>
    <p class="text-center text-lg">
      {
        currentLocale === "en"
          ? "This content has not been implemented yet. Please come back later."
          : "Esto todavía no se ha implementado. Por favor, vuelve  más tarde."
      }
    </p>
    <button
      class="block mx-auto mt-4 p-2 bg-orange-500 text-white dark:bg-orange-800 rounded-md"
      onclick="this.closest('dialog').close()"
    >
      {currentLocale === "en" ? "Understood" : "Entendido"}
    </button>
  </dialog>
</footer>

<script>
  const linkedinIcon = document.getElementById("linkedinIcon");
  const emailIcon = document.getElementById("emailIcon");

  const modal = document.getElementById("niyModal") as HTMLDialogElement;

  const openModal = () => modal.showModal();

  linkedinIcon?.addEventListener("click", openModal);
  emailIcon?.addEventListener("click", openModal);
</script>
